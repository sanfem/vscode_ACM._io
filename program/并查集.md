并查集

是一种用于处理不相交集合合并与查询问题的树型数据结构

核心功能

- 查找：确定元素属于哪个集合
    
- 合并：将两个集合合并为一个集合

1. 初始化
parent[i] = i

2. 查找(路径压缩)
int find(int x)
{
	return par[x] == x ? x : par[x] = find(par[x]); 
}

3. 合并(按秩合并)
void unity(int a, int b)
{
	int aa = find(a);
	int bb = find(b);
	if(aa != bb)
	par[aa] = find(bb);
}

例题：

#include<bits/stdc++.h>
using namespace std;

const int N = 1000000 + 5;
int par[N];
int find(int x)
{
	return par[x] == x ? x : par[x] = find(par[x]); 
}

void unity(int a, int b)
{
	int aa = find(a);
	int bb = find(b);
	par[aa] = find(bb);
}

int main()
{
	int n, a, b;
	cin >> n;
	for(int i = 1; i <= n; i++) par[i] = i;
	
	set<int>st;
	for(int i = 1; i <= n; i++){
		cin >> a >> b;
		st.insert(a);
		st.insert(b);
		unity(a, b);
	}
	
	set<int>rt;
	for(int i = 1; i <= n; i++){
		rt.insert(find(i));
	}
	
	if(st.size() - n + rt.size() == 1) cout << "yes";
	else cout << "no";

	return 0;
}